<div xmlns:th="http://www.thymeleaf.org">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <section class="jumbotron text-center">
        <div class="container">
            <h1 class="jumbotron-heading">CULTURE COMPASS </h1>
            <h3 class="jumbotron-heading">All nodes</h3>
        </div>
    </section>

    <div id="map" th:style="'height: 500px; width: 500px; margin: 0 auto;'"></div>


    <script th:inline="javascript">
        let nodes = [(${nodes})] ;
        let map = L.map("map")
            .setView([41.6086, 21.7453], 8); // Macedonia
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: ''
        }).addTo(map);

        let markers = [];

        nodes.forEach(function (node) {
            let marker = L.marker([node.latitude, node.longitude])
                .bindPopup(node.name + '<br>Category: ' + node.category);
            markers.push(marker);
        });

        let markerGroup = L.featureGroup(markers).addTo(map);
        map.fitBounds(markerGroup.getBounds());
    </script>


</div>